From c66d7504edf3df2fbfd2f61787daf103819c947f Mon Sep 17 00:00:00 2001
From: George Ma <georgema86@gmail.com>
Date: Wed, 6 Mar 2019 16:02:02 -0500
Subject: [PATCH 2/4] Update JSTerm.js

---
 devtools/client/webconsole/components/JSTerm.js | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/devtools/client/webconsole/components/JSTerm.js b/devtools/client/webconsole/components/JSTerm.js
index c56716ad0aa23..94e9e5840c55f 100644
--- a/devtools/client/webconsole/components/JSTerm.js
+++ b/devtools/client/webconsole/components/JSTerm.js
@@ -79,6 +79,8 @@ class JSTerm extends Component {
       autocompleteUpdate: PropTypes.func.isRequired,
       // Data to be displayed in the autocomplete popup.
       autocompleteData: PropTypes.object.isRequired,
+      // Whether the input is in editor mode
+      editorMode: PropTypes.bool,
     };
   }
 
@@ -189,7 +191,7 @@ class JSTerm extends Component {
           autofocus: true,
           enableCodeFolding: false,
           autoCloseBrackets: false,
-          gutters: [],
+          lineNumbers: this.props.editorMode,
           lineWrapping: true,
           mode: Editor.modes.js,
           styleActiveLine: false,
@@ -1608,6 +1610,7 @@ function mapStateToProps(state) {
     history: getHistory(state),
     getValueFromHistory: (direction) => getHistoryValue(state, direction),
     autocompleteData: getAutocompleteState(state),
+    editorMode: state.ui.editor,
   };
 }
 

From d32b58b9ea64f8c02f40c2673437af742757c489 Mon Sep 17 00:00:00 2001
From: George Ma <georgema86@gmail.com>
Date: Wed, 6 Mar 2019 16:04:11 -0500
Subject: [PATCH 3/4] Added editor field to UiState

editor value is mapped to the PREFS.UI.EDITOR field in constants.js
---
 devtools/client/webconsole/store.js | 1 +
 1 file changed, 1 insertion(+)

diff --git a/devtools/client/webconsole/store.js b/devtools/client/webconsole/store.js
index c643c36c7096e..f5360424b65cf 100644
--- a/devtools/client/webconsole/store.js
+++ b/devtools/client/webconsole/store.js
@@ -71,6 +71,7 @@ function configureStore(webConsoleUI, options = {}) {
     ui: UiState({
       networkMessageActiveTabId: "headers",
       persistLogs: getBoolPref(PREFS.UI.PERSIST),
+      editor: getBoolPref(PREFS.UI.EDITOR),
     }),
   };
 

From e9e3f8eb17d79058d6e58fb115fe4c46fb183116 Mon Sep 17 00:00:00 2001
From: George Ma <georgema86@gmail.com>
Date: Wed, 6 Mar 2019 16:05:24 -0500
Subject: [PATCH 4/4] Update corresponding EDITOR field in UI object

---
 devtools/client/webconsole/constants.js | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/devtools/client/webconsole/constants.js b/devtools/client/webconsole/constants.js
index 4994713d106b1..0547186024f54 100644
--- a/devtools/client/webconsole/constants.js
+++ b/devtools/client/webconsole/constants.js
@@ -65,6 +65,8 @@ const prefs = {
       PERSIST: "devtools.webconsole.persistlog",
       // Max number of entries in history list.
       INPUT_HISTORY_COUNT: "devtools.webconsole.inputHistoryCount",
+      // Is editor mode enabled
+      EDITOR: "devtools.webconsole.input.editor",
     },
     FEATURES: {
       // We use the same pref to enable the sidebar on webconsole and browser console.
